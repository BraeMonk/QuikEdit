<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jerry Editor</title>
  <link rel="manifest" href="./manifest.json">
  <link rel="stylesheet" href="./styles.css">
  <meta name="theme-color" content="#1a1a1a">
</head>
<body>
  <div class="editor-container">
    <!-- Header -->
    <div class="header">
      <div class="logo">Jerry Editor</div>
      <div class="header-controls">
        <button class="header-btn" id="newProject">New</button>
        <button class="header-btn" id="saveProject">Save</button>
        <button class="header-btn" id="exportPNG">Export</button>
      </div>
    </div>

    <!-- Tools Sidebar -->
    <div class="sidebar">
      <!-- Regular Drawing Tools -->
      <div class="tool-btn active" data-tool="pencil" title="Pencil (B)">‚úèÔ∏è</div>
      <div class="tool-btn" data-tool="eraser" title="Eraser (E)">üßπ</div>
      <div class="tool-btn" data-tool="eyedropper" title="Eyedropper (I)">üíß</div>
      <div class="tool-btn" data-tool="fill" title="Fill Bucket (G)">ü™£</div>
      
      <div class="tool-separator"></div>
      
      <!-- Symmetric Drawing Tools -->
      <div class="tool-btn symmetric-tool" data-tool="symmetricPencil" title="Symmetric Pencil (Shift+B)">‚úèÔ∏è‚öå</div>
      <div class="tool-btn symmetric-tool" data-tool="symmetricEraser" title="Symmetric Eraser (Shift+E)">üßπ‚öå</div>
      <div class="tool-btn symmetric-tool" data-tool="symmetricFill" title="Symmetric Fill (Shift+G)">ü™£‚öå</div>
      
      <div class="tool-separator"></div>
      
      <!-- Selection and Movement Tools -->
      <div class="tool-btn" data-tool="select" title="Select (M)">‚¨ö</div>
      <div class="tool-btn" data-tool="move" title="Move (V)">‚úã</div>
      
      <div class="tool-separator"></div>
      
      <!-- Shape Tools -->
      <div class="tool-btn" data-tool="line" title="Line (L)">üìè</div>
      <div class="tool-btn" data-tool="rect" title="Rectangle (R)">‚ñ≠</div>
      <div class="tool-btn" data-tool="circle" title="Circle (O)">‚óã</div>
    </div>

    <!-- Canvas Area -->
    <div class="canvas-area">
      <div class="canvas-wrapper">
        <div id="canvas"></div>
        <div class="canvas-grid" id="canvasGrid"></div>
      </div>
      <div class="canvas-info" id="canvasInfo">16√ó16 | Pencil | #000000</div>
      <div class="zoom-indicator" id="zoomIndicator">100%</div>
    </div>

    <!-- Right Panels -->
    <div class="panels">
      <!-- Colors Panel -->
      <div class="panel">
        <div class="panel-header">
          Colors <span>‚ñº</span>
        </div>
        <div class="panel-content">
          <div class="control-group">
            <label>Primary/Secondary Colors</label>
            <div class="control-row">
              <div class="swatch primary selected" id="primaryColor" style="background: #000000"></div>
              <div class="swatch secondary" id="secondaryColor" style="background: #ffffff"></div>
            </div>
          </div>
          
          <div class="control-group">
            <label>Palette</label>
            <select id="paletteSelector"></select>
          </div>
          
          <div class="palette-grid" id="swatches"></div>
          
          <div class="control-group">
            <label>Custom Colors</label>
            <div id="colorPickers" class="palette-grid"></div>
            <button class="btn btn-sm" id="saveCustomPalette">Save Palette</button>
          </div>
        </div>
      </div>

      <!-- Symmetry Panel -->
      <div class="panel">
        <div class="panel-header">
          Symmetry <span>‚ñº</span>
        </div>
        <div class="panel-content">
          <div class="control-group">
            <label>Symmetry Mode</label>
            <div class="btn-group symmetry-controls">
              <button class="btn symmetry-btn active" data-symmetry="none" title="No Symmetry (Q)">None</button>
              <button class="btn symmetry-btn" data-symmetry="horizontal" title="Horizontal Symmetry (W)">‚îÄ</button>
            </div>
            <div class="btn-group symmetry-controls">
              <button class="btn symmetry-btn" data-symmetry="vertical" title="Vertical Symmetry (A)">‚îÇ</button>
              <button class="btn symmetry-btn" data-symmetry="both" title="Both Axes (S)">‚îº</button>
            </div>
          </div>
          <div class="symmetry-info">
            <small>Use symmetric tools (‚öå) to draw with active symmetry mode</small>
          </div>
        </div>
      </div>

      <!-- Transform Panel -->
      <div class="panel">
        <div class="panel-header">
          Transform <span>‚ñº</span>
        </div>
        <div class="panel-content">
          <div class="control-group">
            <label>Rotate Selection</label>
            <div class="btn-group">
              <button class="btn" id="rotateLeft" title="Rotate 90¬∞ Left ([)">‚Ü∂ 90¬∞</button>
              <button class="btn" id="rotate180" title="Rotate 180¬∞">‚Üª 180¬∞</button>
              <button class="btn" id="rotateRight" title="Rotate 90¬∞ Right (])">‚Ü∑ 90¬∞</button>
            </div>
          </div>
          
          <div class="control-group">
            <label>Flip Selection</label>
            <div class="btn-group">
              <button class="btn" id="flipHorizontal" title="Flip Horizontal (Ctrl+H)">‚Üî Flip H</button>
              <button class="btn" id="flipVertical" title="Flip Vertical (Ctrl+J)">‚Üï Flip V</button>
            </div>
          </div>
          
          <div class="transform-info">
            <small>Select an area first to use transform tools</small>
          </div>
        </div>
      </div>

      <!-- Canvas Panel -->
      <div class="panel">
        <div class="panel-header">
          Canvas <span>‚ñº</span>
        </div>
        <div class="panel-content">
          <div class="control-group">
            <label>Size</label>
            <div class="control-row">
              <input type="number" id="canvasWidth" value="16" min="1" max="128">
              <span>√ó</span>
              <input type="number" id="canvasHeight" value="16" min="1" max="128">
              <button class="btn" id="resizeCanvas">Resize</button>
            </div>
          </div>
          
          <div class="control-group">
            <label>Zoom</label>
            <div class="btn-group">
              <button class="btn" id="zoomOut">-</button>
              <button class="btn" id="zoomReset">100%</button>
              <button class="btn" id="zoomIn">+</button>
            </div>
          </div>

          <div class="control-group">
            <label>Actions</label>
            <div class="btn-group">
              <button class="btn" id="undo">Undo</button>
              <button class="btn" id="redo">Redo</button>
            </div>
            <button class="btn" id="clear" style="margin-top: 8px; width: 100%;">Clear Canvas</button>
          </div>
          <label style="margin-left: 10px; user-select: none;">
            <input type="checkbox" id="gridToggle" checked>
            Grid
          </label>
        </div>
      </div>

      <!-- Sprites Panel -->
      <div class="panel">
        <div class="panel-header">
          Sprites <span>‚ñº</span>
        </div>
        <div class="panel-content">
          <div class="control-group">
            <label>Current Sprite</label>
            <select id="spriteSelector"></select>
          </div>
          
          <div class="btn-group">
            <button class="btn" id="newSprite">New</button>
            <button class="btn" id="duplicateSprite">Duplicate</button>
            <button class="btn" id="deleteSprite">Delete</button>
          </div>
        </div>
      </div>

      <!-- Export Panel -->
      <div class="panel">
        <div class="panel-header">
          Export <span>‚ñº</span>
        </div>
        <div class="panel-content">
          <div class="btn-group">
            <button class="btn primary" id="exportJSON">JSON</button>
            <button class="btn" id="exportPNG2">PNG</button>
          </div>
          
          <div class="export-area">
            <textarea id="output" placeholder="Export data appears here..."></textarea>
            <input type="file" id="importFile" accept=".json" style="margin-top: 8px;">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="./editor.js"></script>

</body>
</html>
